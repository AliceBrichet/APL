{% load i18n %}

{% if app_list %}
  {% for app in app_list %}
    <div class="card m-3">
        <h4 class="card-title m-3">
            <a href="{{ app.app_url }}" class="link-dark" title="{% blocktranslate with name=app.name %}Models in the {{ name }} application{% endblocktranslate %}">{{ app.name }}</a>
        </h4>
        <div class="container">
          <div class="row">
            <div class="col">
              <table class="table table-bordered m-3">
                <thead class="table-secondary">
                  <tr>
                    <th scope="col">Table</th>
                    <th scope="col">Ajouter</th>
                    <th scope="col">Modifier</th>
                  </tr>
                </thead>
                <tbody>            
                  {% for model in app.models %}
                    <tr class="table-light">
                        {% if model.admin_url %}
                          <th scope="row">
                            <a class="link-dark" href="{{ model.admin_url }}"{% if model.admin_url in request.path|urlencode %} aria-current="page"{% endif %}>{{ model.name }}</a>
                          </th>
                        {% else %}
                          <th scope="row">{{ model.name }}</th>
                        {% endif %}

                        {% if model.add_url %}
                          <td>
                            <a href="{{ model.add_url }}" class="btn btn-secondary m-1">{% translate 'Add' %}</a>
                          </td>
                        {% else %}
                          <td></td>
                        {% endif %}

                        {% if model.admin_url and show_changelinks %}
                          {% if model.view_only %}
                            <td>
                              <a href="{{ model.admin_url }}" class="viewlink btn btn-secondary m-1">{% translate 'View' %}</a>
                            </td>
                          {% else %}
                            <td>
                              <a href="{{ model.admin_url }}" class="changelink btn btn-secondary m-1">{% translate 'Change' %}</a>
                            </td>
                        {% endif %}
                        {% elif show_changelinks %}
                          <td></td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                  </tbody>
              </table>
            </div>
            <div class="col"></div>
          </div>
        </div>
    </div>
  {% endfor %}
{% else %}
  <p>{% translate 'You donâ€™t have permission to view or edit anything.' %}</p>
{% endif %}
